- content_for :head do
  :javascript
    $(document).ready(function() {
      $('#javascript_disabled').remove();

      checkboxTogglesSet($('#state_registrants_pa_registrant_change_of_name'), $('#prev_name_set'), $('#prev_name_rule'));
      
      function toggleSsn() {
        if ($("#state_registrants_va_registrant_confirm_no_ssn:checked").length > 0 ) {
          $(".registrant-form__ssn__line").hide();
        } else {
          $(".registrant-form__ssn__line").show();
        }
      }  
      
      $("#state_registrants_va_registrant_confirm_no_ssn").click(toggleSsn)
      toggleSsn();      
          
    });
    
= form_for(@registrant, url: update_state_registrant_path(controller.current_state, @registrant.to_param)) do |form|
  = render partial: 'state_registrants/locale_selector', locals: {form: form }
  = render partial: 'state_registrants/va/header'
  
  = render partial: 'registrants/generic/checkbox', locals: {form: form, field: :confirm_voter_record_update, class_name: "registrant-form__confirm_voter_record_update__line", required: true}
  
  = render partial: 'registrants/generic/checkbox', locals: {form: form, field: :confirm_us_citizen, class_name: "registrant-form__us-citizen__line", required: true}
  
  %fieldset#ssn_set
    %ul.flat.ssn
      = field_li(form, :ssn, {skip_tooltip: true, required: true, li_options: {class: "registrant-form__ssn__line"} })
      
    = render partial: 'registrants/generic/checkbox', locals: {form: form, field: :confirm_no_ssn, class_name: "registrant-form__no-ssn__line", required: false}
    
    %ul.flat
      = field_li(form, :date_of_birth, {required: true, label_options: nil, field_options: {:value => form.object.form_date_of_birth, placeholder: 'MM-DD-YYYY'}, li_options: {class: 'registrant-form__date-of-birth__line'} })
    
    = render partial: 'state_registrants/va/name', locals: {form: form}
    
  